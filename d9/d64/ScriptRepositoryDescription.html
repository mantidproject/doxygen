<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mantid: The Description of the ScriptRepository</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-59110517-2', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Mantid
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">The Description of the <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html">ScriptRepository</a> </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >Abstract Class to manage the interaction between the users and the Script folder (mantid subproject).</p>
<p >Inside the mantid repository (<a href="https://github.com/mantidproject">https://github.com/mantidproject</a>) there is also a subproject called scripts (<a href="https://github.com/mantidproject/scripts">https://github.com/mantidproject/scripts</a>), created to allow users to share their scripts, as well as to allow <a class="el" href="../../d8/d8e/namespaceMantid.html" title="Helper class which provides the Collimation Length for SANS instruments.">Mantid</a> Team to distribute to the <a class="el" href="../../d8/d8e/namespaceMantid.html" title="Helper class which provides the Collimation Length for SANS instruments.">Mantid</a> community scripts for analysis and also to enhance the quality of the scripts used for the sake of data analysis.</p>
<p >The <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html">ScriptRepository</a> interface aims to provide a simple way to interact with that repository in order to promote its usage. In order to enhance the usage, it is necessary:</p>
<ul>
<li>List all scripts available at the repository</li>
<li>Download selected scripts.</li>
<li>Check for updates</li>
<li>Allow to publish users scripts/folders.</li>
</ul>
<p ><a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html">ScriptRepository</a> may show all the files inside the script repository through <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html#ac78968bbc0d196e376c1a0afedd7377c" title="Return the list of files inside the repository.">ScriptRepository::listFiles</a>. Only the names of the files may not be sufficient, to help deciding if the file would be usefull or not, so, the author, the description and when the file was last changed can be accessed through ScriptRepository::ScriptInfo.</p>
<p >The list of the files could become confusing if a large amount of automatically created files is installed. In order to avoid this, it is possible to edit the file patterns that should be ignored when listing files, this is done through <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html#a11e105f8a9e6824f2e34a5656e15020f" title="Define the file patterns that will not be listed in listFiles.">ScriptRepository::setIgnorePatterns</a>, and you can check this settings through the <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html#a46a41ba2d8f2c05781d8517595c66cd7" title="Return the ignore patters that was defined through ScriptRepository::setIgnorePatterns.">ScriptRepository::ignorePatterns</a>.</p>
<p >After looking at a file, you may be interested in downloading it through <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html#ae4f0d43e4d1d456909107589be18285f" title="Create a copy of the remote file/folder inside the local repository.">ScriptRepository::download</a>.</p>
<p >When working with the repository, the files may be local only, if the user created a file inside his folder, it may not be downloaded, it can be locally modified, or changed remotely and not up-to-date, or even, being modified locally and remotely. Use <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html#ab2c38a2360dc6038699aa95bbfcde0ea" title="Return the status of the file, according to the status defined in Mantid::API::SCRIPTSTATUS.">ScriptRepository::fileStatus</a> in order to get these informations of any file.</p>
<p >The user may decide to upload one of his file or folder, to share it. This is possible through the <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html#a65252887f7a53e75824e941edeb7dbe1" title="Upload the local file/folder to be available at the remote repository.">ScriptRepository::upload</a>. The same command may be used to publish also some updates made to an already shared file.</p>
<p >Finally, the <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html">ScriptRepository</a> have to check periodically the remote repository (<a href="https://github.com/mantidproject/scripts">https://github.com/mantidproject/scripts</a>), but it will be done indirectly through a mantid web service, it is the responsibility of external tools to ensure it is done periodically, through <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html#af3c3fcc6cf45009504c0686ff7d25030" title="Connects to the remote repository checking for updates.">ScriptRepository::check4Update</a>. For the sake of simplicity, this method is used also to create the local repository in case it does not exists.</p>
<p >Before using the <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html">ScriptRepository</a>, it must be installed inside a local folder (<a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html#a422b7c10f032b67676cbaec8791670ba" title="Install the necessary resources at the local_path given that allows the ScriptRepository to operate l...">ScriptRepository::install</a>). If <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html">ScriptRepository</a> is not created pointing to a valid local repository, the methog <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html#a18244d65586b783c7d2d921101402433" title="Check if the local repository exists.">ScriptRepository::isValid</a> will return false, and no method will be available, except, install. As a good practice, it is good to ensure that the connection between the local object and the mantid web service is available, through the <a class="el" href="../../de/da1/classMantid_1_1API_1_1ScriptRepository.html#aead57a75d7261600a39072f6a8e1bff5" title="Allow the ScriptRepository to double check the connection with the web server.">ScriptRepository::connect</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Exceptions will be triggered through <a class="el" href="../../d3/d73/classMantid_1_1API_1_1ScriptRepoException.html" title="The ScriptRepository class is intended to be used mainly by the users, who will be willing to share a...">ScriptRepoException</a> in order user understandable information as well as techinical details.</dd>
<dd>
Mantid::API::ScriptRepositoryImpl implements this class.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gesner Passos, ISIS, RAL </dd></dl>
<dl class="section date"><dt>Date</dt><dd>11/12/2012</dd></dl>
<p>Files</p>
<h1><a class="anchor" id="script-description-sec"></a>
Scripts, Folders and Files Description</h1>
<p >The description of the files and scripts will obey an agreement for the following type of files:</p>
<ul>
<li><a class="el" href="../../d9/d64/ScriptRepositoryDescription.html#pyscript-sec">Python Scripts</a></li>
<li><a class="el" href="../../d9/d64/ScriptRepositoryDescription.html#folders-sec">Folders</a></li>
<li><a class="el" href="../../d9/d64/ScriptRepositoryDescription.html#readme-sec">README files</a></li>
</ul>
<h2><a class="anchor" id="pyscript-sec"></a>
Python Scripts</h2>
<p >If the script is as python file, then the description will be the module <b>doc</b> attribute. If this information is not availabe, them, it will try to get the first group of comments, at the header of the file. For example, the following code:</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> mantid</div>
<div class="line"><span class="keywordflow">print</span> mantid.__doc__</div>
</div><!-- fragment --><p >Produces:</p>
<pre class="fragment">Mantid
======

http://www.mantidproject.org

The Mantid project pro (...)
</pre><p >Another example, consider this python file:</p>
<div class="fragment"><div class="line"><span class="comment">#!/usr/bin/env python</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">print</span> <span class="stringliteral">&#39;Hello world&#39;</span></div>
</div><!-- fragment --><p >Will show the description as follow:</p>
<pre class="fragment">This module is responsible to display a
'Hello world' greeting.
</pre><h2><a class="anchor" id="folders-sec"></a>
Folders</h2>
<p >If the script is a folder, it will try to find a file <b>init</b>.py, so to check if this folder is a python module. If it does, it will parse the <b>init</b>.py as in section <a class="el" href="../../d9/d64/ScriptRepositoryDescription.html#pyscript-sec">Python Scripts</a>. Otherwise, it will look for a file starting with name README, and will show it. For example, if the mantid repository path would be passed, it would show the content of its README.md file:</p>
<pre class="fragment">Mantid
======

The Mantid project provides (...)</pre><p >In this case, author should be any name found inside the README file that starts with the following line: 'Author:'.</p>
<h2><a class="anchor" id="readme-sec"></a>
README files</h2>
<p >They will work as was expected for folders <a class="el" href="../../d9/d64/ScriptRepositoryDescription.html#folders-sec">Folders</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jan 3 2023 11:58:03 for Mantid by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
