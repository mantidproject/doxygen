<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mantid: Mantid::CurveFitting::Functions::CrystalFieldUtils Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-59110517-2', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Mantid
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/d8e/namespaceMantid.html">Mantid</a></li><li class="navelem"><a class="el" href="../../df/d3c/namespaceMantid_1_1CurveFitting.html">CurveFitting</a></li><li class="navelem"><a class="el" href="../../dd/daf/namespaceMantid_1_1CurveFitting_1_1Functions.html">Functions</a></li><li class="navelem"><a class="el" href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html">CrystalFieldUtils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Mantid::CurveFitting::Functions::CrystalFieldUtils Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac57c32cb1c417ca21b3af11237b72e91"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#ac57c32cb1c417ca21b3af11237b72e91">buildSpectrumFunction</a> (<a class="el" href="../../dd/d27/classMantid_1_1API_1_1CompositeFunction.html">API::CompositeFunction</a> &amp;spectrum, const std::string &amp;peakShape, const <a class="el" href="../../d9/d9c/classMantid_1_1API_1_1FunctionValues.html">API::FunctionValues</a> &amp;centresAndIntensities, const std::vector&lt; double &gt; &amp;xVec, const std::vector&lt; double &gt; &amp;yVec, double fwhmVariation, double defaultFWHM, size_t nRequiredPeaks, bool fixAllPeaks)</td></tr>
<tr class="memdesc:ac57c32cb1c417ca21b3af11237b72e91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility functions to help set up peak functions in a <a class="el" href="../../df/d97/namespaceMantid_1_1Crystal.html">Crystal</a> Field spectrum.  <a href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#ac57c32cb1c417ca21b3af11237b72e91">More...</a><br /></td></tr>
<tr class="separator:ac57c32cb1c417ca21b3af11237b72e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03160a346aaff91ebb689cced20c8d61"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#a03160a346aaff91ebb689cced20c8d61">calculateMaxNPeaks</a> (size_t nPeaks)</td></tr>
<tr class="memdesc:a03160a346aaff91ebb689cced20c8d61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the maximum number of peaks a spectrum can have.  <a href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#a03160a346aaff91ebb689cced20c8d61">More...</a><br /></td></tr>
<tr class="separator:a03160a346aaff91ebb689cced20c8d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aecf9018821908d1ef7588349676471"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#a4aecf9018821908d1ef7588349676471">calculateNPeaks</a> (const <a class="el" href="../../d9/d9c/classMantid_1_1API_1_1FunctionValues.html">API::FunctionValues</a> &amp;centresAndIntensities)</td></tr>
<tr class="memdesc:a4aecf9018821908d1ef7588349676471"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the number of visible peaks.  <a href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#a4aecf9018821908d1ef7588349676471">More...</a><br /></td></tr>
<tr class="separator:a4aecf9018821908d1ef7588349676471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf45562085c954be589da49707f0b929"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#acf45562085c954be589da49707f0b929">calculateWidth</a> (double <a class="el" href="../../dc/d67/namespaceMantid_1_1Geometry.html#af9966bf83559a0e8759072837e5ab80f">x</a>, const std::vector&lt; double &gt; &amp;xVec, const std::vector&lt; double &gt; &amp;yVec)</td></tr>
<tr class="memdesc:acf45562085c954be589da49707f0b929"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the width of a peak cenrted at x using an interpolated value of a function tabulated at xVec points.  <a href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#acf45562085c954be589da49707f0b929">More...</a><br /></td></tr>
<tr class="separator:acf45562085c954be589da49707f0b929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba05f73b9d8803730b09d2078aae4381"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/da0/namespaceMantid_1_1API.html#a47d085886a33151886b0053a24df92e1">API::IPeakFunction_sptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#aba05f73b9d8803730b09d2078aae4381">createPeak</a> (const std::string &amp;peakShape, double centre, double intensity, const std::vector&lt; double &gt; &amp;xVec, const std::vector&lt; double &gt; &amp;yVec, double fwhmVariation, double defaultFWHM, bool isGood, bool fixAllPeaks)</td></tr>
<tr class="memdesc:aba05f73b9d8803730b09d2078aae4381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a single peak.  <a href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#aba05f73b9d8803730b09d2078aae4381">More...</a><br /></td></tr>
<tr class="separator:aba05f73b9d8803730b09d2078aae4381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d31e954f335f776688336c90cd25edb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#a2d31e954f335f776688336c90cd25edb">ignorePeak</a> (<a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html">API::IPeakFunction</a> &amp;peak, double fwhm)</td></tr>
<tr class="memdesc:a2d31e954f335f776688336c90cd25edb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set peak's properties such that it was invisible in the spectrum.  <a href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#a2d31e954f335f776688336c90cd25edb">More...</a><br /></td></tr>
<tr class="separator:a2d31e954f335f776688336c90cd25edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a451b35cc6132354ecbe0329b7a2677e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#a451b35cc6132354ecbe0329b7a2677e6">setPeakWidth</a> (<a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html">API::IPeakFunction</a> &amp;peak, double centre, const std::vector&lt; double &gt; &amp;xVec, const std::vector&lt; double &gt; &amp;yVec, double fwhmVariation, double defaultFWHM, bool useDefaultFWHM)</td></tr>
<tr class="memdesc:a451b35cc6132354ecbe0329b7a2677e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the width of a peak.  <a href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#a451b35cc6132354ecbe0329b7a2677e6">More...</a><br /></td></tr>
<tr class="separator:a451b35cc6132354ecbe0329b7a2677e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acffa8694bf168c696b121e2053399452"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#acffa8694bf168c696b121e2053399452">setWidthConstraint</a> (<a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html">API::IPeakFunction</a> &amp;peak, double fwhm, double fwhmVariation)</td></tr>
<tr class="memdesc:acffa8694bf168c696b121e2053399452"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a boundary constraint on the appropriate parameter of the peak.  <a href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#acffa8694bf168c696b121e2053399452">More...</a><br /></td></tr>
<tr class="separator:acffa8694bf168c696b121e2053399452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdfcc041022f87a4adf3954d8f337f90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#afdfcc041022f87a4adf3954d8f337f90">updatePeak</a> (<a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html">API::IPeakFunction</a> &amp;peak, double centre, double intensity, const std::vector&lt; double &gt; &amp;xVec, const std::vector&lt; double &gt; &amp;yVec, double fwhmVariation, bool isGood, bool fixAllPeaks)</td></tr>
<tr class="memdesc:afdfcc041022f87a4adf3954d8f337f90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a single peak.  <a href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#afdfcc041022f87a4adf3954d8f337f90">More...</a><br /></td></tr>
<tr class="separator:afdfcc041022f87a4adf3954d8f337f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1baef8f69cd41976961317fa5133483"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#ae1baef8f69cd41976961317fa5133483">updatePeakWidth</a> (<a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html">API::IPeakFunction</a> &amp;peak, double centre, const std::vector&lt; double &gt; &amp;xVec, const std::vector&lt; double &gt; &amp;yVec, double fwhmVariation)</td></tr>
<tr class="memdesc:ae1baef8f69cd41976961317fa5133483"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update width of a peak.  <a href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#ae1baef8f69cd41976961317fa5133483">More...</a><br /></td></tr>
<tr class="separator:ae1baef8f69cd41976961317fa5133483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f92b19965e14e27e80165a694d53cce"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#a0f92b19965e14e27e80165a694d53cce">updateSpectrumFunction</a> (<a class="el" href="../../dd/d27/classMantid_1_1API_1_1CompositeFunction.html">API::CompositeFunction</a> &amp;spectrum, const std::string &amp;peakShape, const <a class="el" href="../../d9/d9c/classMantid_1_1API_1_1FunctionValues.html">FunctionValues</a> &amp;centresAndIntensities, size_t iFirst, const std::vector&lt; double &gt; &amp;xVec, const std::vector&lt; double &gt; &amp;yVec, double fwhmVariation, double defaultFWHM, bool fixAllPeaks)</td></tr>
<tr class="memdesc:a0f92b19965e14e27e80165a694d53cce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the peaks parameters after recalculationof the crystal field.  <a href="../../dc/dca/namespaceMantid_1_1CurveFitting_1_1Functions_1_1CrystalFieldUtils.html#a0f92b19965e14e27e80165a694d53cce">More...</a><br /></td></tr>
<tr class="separator:a0f92b19965e14e27e80165a694d53cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac57c32cb1c417ca21b3af11237b72e91" name="ac57c32cb1c417ca21b3af11237b72e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac57c32cb1c417ca21b3af11237b72e91">&#9670;&#160;</a></span>buildSpectrumFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t Mantid::CurveFitting::Functions::CrystalFieldUtils::buildSpectrumFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d27/classMantid_1_1API_1_1CompositeFunction.html">API::CompositeFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>spectrum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>peakShape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/d9c/classMantid_1_1API_1_1FunctionValues.html">API::FunctionValues</a> &amp;&#160;</td>
          <td class="paramname"><em>centresAndIntensities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>xVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>yVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fwhmVariation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>defaultFWHM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nRequiredPeaks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fixAllPeaks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility functions to help set up peak functions in a <a class="el" href="../../df/d97/namespaceMantid_1_1Crystal.html">Crystal</a> Field spectrum. </p>
<p >Populates a spectrum with peaks of type given by peakShape argument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spectrum</td><td>:: A composite function that is a collection of peaks. </td></tr>
    <tr><td class="paramname">peakShape</td><td>:: A shape of each peak as a name of an IPeakFunction. </td></tr>
    <tr><td class="paramname">centresAndIntensities</td><td>:: A FunctionValues object containing centres and intensities for the peaks. First nPeaks calculated values are the centres and the following nPeaks values are the intensities. </td></tr>
    <tr><td class="paramname">xVec</td><td>:: x-values of a tabulated width function. </td></tr>
    <tr><td class="paramname">yVec</td><td>:: y-values of a tabulated width function. </td></tr>
    <tr><td class="paramname">fwhmVariation</td><td>:: A variation in the peak width allowed in a fit. </td></tr>
    <tr><td class="paramname">defaultFWHM</td><td>:: A default value for the FWHM to use if xVec and yVec are empty. </td></tr>
    <tr><td class="paramname">nRequiredPeaks</td><td>:: A number of peaks required to be created. </td></tr>
    <tr><td class="paramname">fixAllPeaks</td><td>:: If true fix all peak parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>:: The number of peaks that will be actually fitted. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00173">173</a> of file <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html">CrystalFieldPeakUtils.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../db/d1f/API_2src_2CompositeFunction_8cpp_source.html#l00532">Mantid::API::CompositeFunction::addFunction()</a>, <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00087">calculateMaxNPeaks()</a>, <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00084">calculateNPeaks()</a>, <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00134">createPeak()</a>, and <a class="el" href="../../da/dd6/FunctionValues_8h_source.html#l00051">Mantid::API::FunctionValues::getCalculated()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5c/CrystalFieldFunction_8cpp_source.html#l00771">Mantid::CurveFitting::Functions::CrystalFieldFunction::buildMultiSiteSingleSpectrum()</a>, <a class="el" href="../../d4/d5c/CrystalFieldFunction_8cpp_source.html#l00699">Mantid::CurveFitting::Functions::CrystalFieldFunction::buildSingleSiteSingleSpectrum()</a>, <a class="el" href="../../d2/d48/CrystalFieldMultiSpectrum_8cpp_source.html#l00335">Mantid::CurveFitting::Functions::CrystalFieldMultiSpectrum::buildSpectrum()</a>, <a class="el" href="../../d4/d5c/CrystalFieldFunction_8cpp_source.html#l00910">Mantid::CurveFitting::Functions::CrystalFieldFunction::buildSpectrum()</a>, and <a class="el" href="../../d6/d37/CrystalFieldSpectrum_8cpp_source.html#l00056">Mantid::CurveFitting::Functions::CrystalFieldSpectrum::buildTargetFunction()</a>.</p>

</div>
</div>
<a id="a03160a346aaff91ebb689cced20c8d61" name="a03160a346aaff91ebb689cced20c8d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03160a346aaff91ebb689cced20c8d61">&#9670;&#160;</a></span>calculateMaxNPeaks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t Mantid::CurveFitting::Functions::CrystalFieldUtils::calculateMaxNPeaks </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nPeaks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the maximum number of peaks a spectrum can have. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00087">87</a> of file <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html">CrystalFieldPeakUtils.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00173">buildSpectrumFunction()</a>, and <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00264">updateSpectrumFunction()</a>.</p>

</div>
</div>
<a id="a4aecf9018821908d1ef7588349676471" name="a4aecf9018821908d1ef7588349676471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aecf9018821908d1ef7588349676471">&#9670;&#160;</a></span>calculateNPeaks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t Mantid::CurveFitting::Functions::CrystalFieldUtils::calculateNPeaks </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d9c/classMantid_1_1API_1_1FunctionValues.html">API::FunctionValues</a> &amp;&#160;</td>
          <td class="paramname"><em>centresAndIntensities</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the number of visible peaks. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00084">84</a> of file <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html">CrystalFieldPeakUtils.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../da/dd6/FunctionValues_8h_source.html#l00032">Mantid::API::FunctionValues::size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d48/CrystalFieldMultiSpectrum_8cpp_source.html#l00335">Mantid::CurveFitting::Functions::CrystalFieldMultiSpectrum::buildSpectrum()</a>, <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00173">buildSpectrumFunction()</a>, <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00264">updateSpectrumFunction()</a>, and <a class="el" href="../../d6/d37/CrystalFieldSpectrum_8cpp_source.html#l00089">Mantid::CurveFitting::Functions::CrystalFieldSpectrum::updateTargetFunction()</a>.</p>

</div>
</div>
<a id="acf45562085c954be589da49707f0b929" name="acf45562085c954be589da49707f0b929"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf45562085c954be589da49707f0b929">&#9670;&#160;</a></span>calculateWidth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Mantid::CurveFitting::Functions::CrystalFieldUtils::calculateWidth </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>xVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>yVec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the width of a peak cenrted at x using an interpolated value of a function tabulated at xVec points. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>:: Peak centre. </td></tr>
    <tr><td class="paramname">xVec</td><td>:: x-values of a tabulated width function. </td></tr>
    <tr><td class="paramname">yVec</td><td>:: y-values of a tabulated width function. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00028">28</a> of file <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html">CrystalFieldPeakUtils.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d82/Geometry_2src_2Crystal_2SpaceGroupFactory_8cpp_source.html#l00675">Mantid::Geometry::x</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00107">setPeakWidth()</a>, and <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00202">updatePeakWidth()</a>.</p>

</div>
</div>
<a id="aba05f73b9d8803730b09d2078aae4381" name="aba05f73b9d8803730b09d2078aae4381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba05f73b9d8803730b09d2078aae4381">&#9670;&#160;</a></span>createPeak()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/da0/namespaceMantid_1_1API.html#a47d085886a33151886b0053a24df92e1">API::IPeakFunction_sptr</a> Mantid::CurveFitting::Functions::CrystalFieldUtils::createPeak </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>peakShape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>centre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>intensity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>xVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>yVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fwhmVariation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>defaultFWHM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isGood</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fixAllPeaks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a single peak. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peakShape</td><td>:: A shape of the of created peak as a name of an IPeakFunction. </td></tr>
    <tr><td class="paramname">centre</td><td>:: Peak centre. </td></tr>
    <tr><td class="paramname">intensity</td><td>:: Integrated intensity of the peak. </td></tr>
    <tr><td class="paramname">xVec</td><td>:: x-values of a tabulated width function. </td></tr>
    <tr><td class="paramname">yVec</td><td>:: y-values of a tabulated width function. </td></tr>
    <tr><td class="paramname">fwhmVariation</td><td>:: A variation in the peak width allowed in a fit. </td></tr>
    <tr><td class="paramname">defaultFWHM</td><td>:: A default value for the FWHM to use if xVec and yVec are empty. </td></tr>
    <tr><td class="paramname">isGood</td><td>:: If the peak good and may have free fitting parameters. </td></tr>
    <tr><td class="paramname">fixAllPeaks</td><td>:: If true all parameters should be fixed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00134">134</a> of file <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html">CrystalFieldPeakUtils.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00092">ignorePeak()</a>, <a class="el" href="../../de/d06/SingletonHolder_8h_source.html#l00091">Mantid::Kernel::SingletonHolder&lt; T &gt;::Instance()</a>, and <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00107">setPeakWidth()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00173">buildSpectrumFunction()</a>, and <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00264">updateSpectrumFunction()</a>.</p>

</div>
</div>
<a id="a2d31e954f335f776688336c90cd25edb" name="a2d31e954f335f776688336c90cd25edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d31e954f335f776688336c90cd25edb">&#9670;&#160;</a></span>ignorePeak()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Mantid::CurveFitting::Functions::CrystalFieldUtils::ignorePeak </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html">API::IPeakFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>peak</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fwhm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set peak's properties such that it was invisible in the spectrum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peak</td><td>:: A peak function to set. </td></tr>
    <tr><td class="paramname">fwhm</td><td>:: A width value to pass to the peak. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00092">92</a> of file <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html">CrystalFieldPeakUtils.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d65/API_2src_2IFunction_8cpp_source.html#l01529">Mantid::API::IFunction::fixAll()</a>, <a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html#a4610e6d15018e4fe58553e49476cdf83">Mantid::API::IPeakFunction::setFwhm()</a>, and <a class="el" href="../../d5/dd0/classMantid_1_1API_1_1IFunctionWithLocation.html#a11e861fdfe4ca6926b985eb11a823d44">Mantid::API::IFunctionWithLocation::setHeight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00134">createPeak()</a>, <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00107">setPeakWidth()</a>, and <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00202">updatePeakWidth()</a>.</p>

</div>
</div>
<a id="a451b35cc6132354ecbe0329b7a2677e6" name="a451b35cc6132354ecbe0329b7a2677e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a451b35cc6132354ecbe0329b7a2677e6">&#9670;&#160;</a></span>setPeakWidth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mantid::CurveFitting::Functions::CrystalFieldUtils::setPeakWidth </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html">API::IPeakFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>peak</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>centre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>xVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>yVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fwhmVariation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>defaultFWHM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useDefaultFWHM</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the width of a peak. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peak</td><td>:: A peak function to set width to. </td></tr>
    <tr><td class="paramname">centre</td><td>:: Peak centre. </td></tr>
    <tr><td class="paramname">xVec</td><td>:: x-values of a tabulated width function. </td></tr>
    <tr><td class="paramname">yVec</td><td>:: y-values of a tabulated width function. </td></tr>
    <tr><td class="paramname">fwhmVariation</td><td>:: A variation in the peak width allowed in a fit. </td></tr>
    <tr><td class="paramname">defaultFWHM</td><td>:: A default value for the FWHM to use if xVec and yVec are empty. </td></tr>
    <tr><td class="paramname">useDefaultFWHM</td><td>:: If true always use defaultFWHM for the width. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00107">107</a> of file <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html">CrystalFieldPeakUtils.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00028">calculateWidth()</a>, <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00092">ignorePeak()</a>, <a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html#a4610e6d15018e4fe58553e49476cdf83">Mantid::API::IPeakFunction::setFwhm()</a>, and <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00047">setWidthConstraint()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00134">createPeak()</a>.</p>

</div>
</div>
<a id="acffa8694bf168c696b121e2053399452" name="acffa8694bf168c696b121e2053399452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acffa8694bf168c696b121e2053399452">&#9670;&#160;</a></span>setWidthConstraint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mantid::CurveFitting::Functions::CrystalFieldUtils::setWidthConstraint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html">API::IPeakFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>peak</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fwhm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fwhmVariation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a boundary constraint on the appropriate parameter of the peak. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peak</td><td>:: A peak function. </td></tr>
    <tr><td class="paramname">fwhm</td><td>:: A width of the peak. </td></tr>
    <tr><td class="paramname">fwhmVariation</td><td>:: A value by which the with can vary on both sides. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00047">47</a> of file <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html">CrystalFieldPeakUtils.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d65/API_2src_2IFunction_8cpp_source.html#l00376">Mantid::API::IFunction::addConstraint()</a>, <a class="el" href="../../d0/d65/API_2src_2IFunction_8cpp_source.html#l01515">Mantid::API::IFunction::fixParameter()</a>, <a class="el" href="../../d5/de7/classMantid_1_1API_1_1IFunction.html#a914dec3d7873dd8208ed78f91ed6400e">Mantid::API::IFunction::name()</a>, and <a class="el" href="../../d0/d65/API_2src_2IFunction_8cpp_source.html#l00403">Mantid::API::IFunction::removeConstraint()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00107">setPeakWidth()</a>, and <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00202">updatePeakWidth()</a>.</p>

</div>
</div>
<a id="afdfcc041022f87a4adf3954d8f337f90" name="afdfcc041022f87a4adf3954d8f337f90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdfcc041022f87a4adf3954d8f337f90">&#9670;&#160;</a></span>updatePeak()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mantid::CurveFitting::Functions::CrystalFieldUtils::updatePeak </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html">API::IPeakFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>peak</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>centre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>intensity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>xVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>yVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fwhmVariation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isGood</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fixAllPeaks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update a single peak. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peak</td><td>:: A peak to update. </td></tr>
    <tr><td class="paramname">centre</td><td>:: New peak centre. </td></tr>
    <tr><td class="paramname">intensity</td><td>:: New integrated intensity. </td></tr>
    <tr><td class="paramname">xVec</td><td>:: x-values of a tabulated width function. </td></tr>
    <tr><td class="paramname">yVec</td><td>:: y-values of a tabulated width function. </td></tr>
    <tr><td class="paramname">fwhmVariation</td><td>:: A variation in the peak width allowed in a fit. </td></tr>
    <tr><td class="paramname">isGood</td><td>:: If the peak good and may have free fitting parameters. </td></tr>
    <tr><td class="paramname">fixAllPeaks</td><td>:: If true all parameters should be fixed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00226">226</a> of file <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html">CrystalFieldPeakUtils.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d65/API_2src_2IFunction_8cpp_source.html#l01529">Mantid::API::IFunction::fixAll()</a>, <a class="el" href="../../de/ddd/IFunctionWithLocation_8h_source.html#l00055">Mantid::API::IFunctionWithLocation::fixCentre()</a>, <a class="el" href="../../d0/d3d/IPeakFunction_8h_source.html#l00114">Mantid::API::IPeakFunction::fixIntensity()</a>, <a class="el" href="../../d5/dd0/classMantid_1_1API_1_1IFunctionWithLocation.html#a9795ffce6ca5df959da632b3253d464b">Mantid::API::IFunctionWithLocation::setCentre()</a>, <a class="el" href="../../d5/dd0/classMantid_1_1API_1_1IFunctionWithLocation.html#a11e861fdfe4ca6926b985eb11a823d44">Mantid::API::IFunctionWithLocation::setHeight()</a>, <a class="el" href="../../d9/d53/API_2src_2IPeakFunction_8cpp_source.html#l00188">Mantid::API::IPeakFunction::setIntensity()</a>, <a class="el" href="../../d0/d65/API_2src_2IFunction_8cpp_source.html#l01547">Mantid::API::IFunction::unfixAllDefault()</a>, <a class="el" href="../../d0/d3d/IPeakFunction_8h_source.html#l00120">Mantid::API::IPeakFunction::unfixIntensity()</a>, and <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00202">updatePeakWidth()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00264">updateSpectrumFunction()</a>.</p>

</div>
</div>
<a id="ae1baef8f69cd41976961317fa5133483" name="ae1baef8f69cd41976961317fa5133483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1baef8f69cd41976961317fa5133483">&#9670;&#160;</a></span>updatePeakWidth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mantid::CurveFitting::Functions::CrystalFieldUtils::updatePeakWidth </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html">API::IPeakFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>peak</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>centre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>xVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>yVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fwhmVariation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update width of a peak. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peak</td><td>:: A peak to update. </td></tr>
    <tr><td class="paramname">centre</td><td>:: Peak centre. </td></tr>
    <tr><td class="paramname">xVec</td><td>:: x-values of a tabulated width function. </td></tr>
    <tr><td class="paramname">yVec</td><td>:: y-values of a tabulated width function. </td></tr>
    <tr><td class="paramname">fwhmVariation</td><td>:: A variation in the peak width allowed in a fit. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00202">202</a> of file <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html">CrystalFieldPeakUtils.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00028">calculateWidth()</a>, <a class="el" href="../../dd/d52/Matrix_8cpp_source.html#l00022">fabs</a>, <a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html#a408b099544b5eb61883d60f3c429aaa6">Mantid::API::IPeakFunction::fwhm()</a>, <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00092">ignorePeak()</a>, <a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html#a4610e6d15018e4fe58553e49476cdf83">Mantid::API::IPeakFunction::setFwhm()</a>, and <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00047">setWidthConstraint()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00226">updatePeak()</a>.</p>

</div>
</div>
<a id="a0f92b19965e14e27e80165a694d53cce" name="a0f92b19965e14e27e80165a694d53cce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f92b19965e14e27e80165a694d53cce">&#9670;&#160;</a></span>updateSpectrumFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t Mantid::CurveFitting::Functions::CrystalFieldUtils::updateSpectrumFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d27/classMantid_1_1API_1_1CompositeFunction.html">API::CompositeFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>spectrum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>peakShape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/d9c/classMantid_1_1API_1_1FunctionValues.html">FunctionValues</a> &amp;&#160;</td>
          <td class="paramname"><em>centresAndIntensities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>iFirst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>xVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>yVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fwhmVariation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>defaultFWHM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fixAllPeaks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the peaks parameters after recalculationof the crystal field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spectrum</td><td>:: A composite function containings the peaks to update. May contain other functions (background) fix indices &lt; iFirst. </td></tr>
    <tr><td class="paramname">peakShape</td><td>:: A shape of each peak as a name of an IPeakFunction. </td></tr>
    <tr><td class="paramname">centresAndIntensities</td><td>:: A FunctionValues object containing centres and intensities for the peaks. First nPeaks calculated values are the centres and the following nPeaks values are the intensities. </td></tr>
    <tr><td class="paramname">iFirst</td><td>:: The first index in the composite function (spectrum) at which the peaks begin. </td></tr>
    <tr><td class="paramname">xVec</td><td>:: x-values of a tabulated width function. </td></tr>
    <tr><td class="paramname">yVec</td><td>:: y-values of a tabulated width function. </td></tr>
    <tr><td class="paramname">fwhmVariation</td><td>:: A variation in the peak width allowed in a fit. </td></tr>
    <tr><td class="paramname">defaultFWHM</td><td>:: A default value for the FWHM to use if xVec and yVec are empty. </td></tr>
    <tr><td class="paramname">fixAllPeaks</td><td>:: If true fix all peak parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>:: The new number of fitted peaks. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00264">264</a> of file <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html">CrystalFieldPeakUtils.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../db/d1f/API_2src_2CompositeFunction_8cpp_source.html#l00532">Mantid::API::CompositeFunction::addFunction()</a>, <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00087">calculateMaxNPeaks()</a>, <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00084">calculateNPeaks()</a>, <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00134">createPeak()</a>, <a class="el" href="../../d7/d74/classMantid_1_1API_1_1IPeakFunction.html#a408b099544b5eb61883d60f3c429aaa6">Mantid::API::IPeakFunction::fwhm()</a>, <a class="el" href="../../da/dd6/FunctionValues_8h_source.html#l00051">Mantid::API::FunctionValues::getCalculated()</a>, <a class="el" href="../../db/d1f/API_2src_2CompositeFunction_8cpp_source.html#l00661">Mantid::API::CompositeFunction::getFunction()</a>, <a class="el" href="../../da/d0d/CompositeFunction_8h_source.html#l00162">Mantid::API::CompositeFunction::nFunctions()</a>, and <a class="el" href="../../df/d1e/CrystalFieldPeakUtils_8cpp_source.html#l00226">updatePeak()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5c/CrystalFieldFunction_8cpp_source.html#l01083">Mantid::CurveFitting::Functions::CrystalFieldFunction::updateMultiSiteSingleSpectrum()</a>, <a class="el" href="../../d4/d5c/CrystalFieldFunction_8cpp_source.html#l01037">Mantid::CurveFitting::Functions::CrystalFieldFunction::updateSingleSiteSingleSpectrum()</a>, <a class="el" href="../../d2/d48/CrystalFieldMultiSpectrum_8cpp_source.html#l00444">Mantid::CurveFitting::Functions::CrystalFieldMultiSpectrum::updateSpectrum()</a>, <a class="el" href="../../d4/d5c/CrystalFieldFunction_8cpp_source.html#l01153">Mantid::CurveFitting::Functions::CrystalFieldFunction::updateSpectrum()</a>, and <a class="el" href="../../d6/d37/CrystalFieldSpectrum_8cpp_source.html#l00089">Mantid::CurveFitting::Functions::CrystalFieldSpectrum::updateTargetFunction()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jan 3 2023 11:59:36 for Mantid by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
