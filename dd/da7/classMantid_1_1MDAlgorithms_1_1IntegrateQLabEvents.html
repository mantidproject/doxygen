<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mantid: Mantid::MDAlgorithms::IntegrateQLabEvents Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-59110517-2', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Mantid
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/d8e/namespaceMantid.html">Mantid</a></li><li class="navelem"><a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html">MDAlgorithms</a></li><li class="navelem"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html">IntegrateQLabEvents</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../de/dca/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Mantid::MDAlgorithms::IntegrateQLabEvents Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This is a low-level class to construct a map with lists of events near each peak Q-vector in the lab frame.  
 <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html">IntegrateQLabEvents.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afc319a80c1dcdbf579115d5ca2c3c4d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#afc319a80c1dcdbf579115d5ca2c3c4d7">addEvents</a> (<a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a> const &amp;event_qs)</td></tr>
<tr class="memdesc:afc319a80c1dcdbf579115d5ca2c3c4d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">distribute the events among the cells of the partitioned QLab space.  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#afc319a80c1dcdbf579115d5ca2c3c4d7">More...</a><br /></td></tr>
<tr class="separator:afc319a80c1dcdbf579115d5ca2c3c4d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae224df0192f3407f5d110a1dbf469e2d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d67/namespaceMantid_1_1Geometry.html#a75b695867abdbd4024c5f25ea396778c">PeakShape_const_sptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#ae224df0192f3407f5d110a1dbf469e2d">ellipseIntegrateEvents</a> (const std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; &amp;E1Vec, <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> const &amp;peak_q, bool specify_size, double peak_radius, double back_inner_radius, double back_outer_radius, std::vector&lt; double &gt; &amp;axes_radii, double &amp;inti, double &amp;sigi, std::pair&lt; double, double &gt; &amp;backi)</td></tr>
<tr class="memdesc:ae224df0192f3407f5d110a1dbf469e2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Integrate the events around the specified peak QLab vector.  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#ae224df0192f3407f5d110a1dbf469e2d">More...</a><br /></td></tr>
<tr class="separator:ae224df0192f3407f5d110a1dbf469e2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee29928c7e9d6ff43073424c1b0d797e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#aee29928c7e9d6ff43073424c1b0d797e">IntegrateQLabEvents</a> (const <a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a> &amp;peak_q_list, double <a class="el" href="../../d4/de1/Rasterize_8cpp.html#a3f67c53b80389c5f53961936edba04c9">radius</a>, const bool useOnePercentBackgroundCorrection=true)</td></tr>
<tr class="memdesc:aee29928c7e9d6ff43073424c1b0d797e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store events within a certain radius of the specified peak centers, and sum these events to estimate pixel intensities.  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#aee29928c7e9d6ff43073424c1b0d797e">More...</a><br /></td></tr>
<tr class="separator:aee29928c7e9d6ff43073424c1b0d797e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad79f83c69a0edebedb01703a9d5535bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#ad79f83c69a0edebedb01703a9d5535bc">populateCellsWithPeaks</a> ()</td></tr>
<tr class="memdesc:ad79f83c69a0edebedb01703a9d5535bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign events to each of the cells occupied by events.  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#ad79f83c69a0edebedb01703a9d5535bc">More...</a><br /></td></tr>
<tr class="separator:ad79f83c69a0edebedb01703a9d5535bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dfcf65aa6f15b9499216bf796cc2888"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a9dfcf65aa6f15b9499216bf796cc2888">setRadius</a> (const double &amp;<a class="el" href="../../d4/de1/Rasterize_8cpp.html#a3f67c53b80389c5f53961936edba04c9">radius</a>)</td></tr>
<tr class="memdesc:a9dfcf65aa6f15b9499216bf796cc2888"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set peak integration radius.  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a9dfcf65aa6f15b9499216bf796cc2888">More...</a><br /></td></tr>
<tr class="separator:a9dfcf65aa6f15b9499216bf796cc2888"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3535a25decb8e8596da3f8c1ee6e7a46"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a3535a25decb8e8596da3f8c1ee6e7a46">isOrigin</a> (const <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &amp;q, const double &amp;cellSize)</td></tr>
<tr class="memdesc:a3535a25decb8e8596da3f8c1ee6e7a46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if an input Q-vector lies in the cell associated to the origin.  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a3535a25decb8e8596da3f8c1ee6e7a46">More...</a><br /></td></tr>
<tr class="separator:a3535a25decb8e8596da3f8c1ee6e7a46"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a388326804801ea4eb85650934a50ce89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a388326804801ea4eb85650934a50ce89">addEvent</a> (const <a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#ac9aac618c63af2509a3d68a63a0d2f4b">SlimEvent</a> event)</td></tr>
<tr class="memdesc:a388326804801ea4eb85650934a50ce89"><td class="mdescLeft">&#160;</td><td class="mdescRight">assign an event to one cell of the partitioned QLab space.  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a388326804801ea4eb85650934a50ce89">More...</a><br /></td></tr>
<tr class="separator:a388326804801ea4eb85650934a50ce89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b7af6a0dcbc1aea7f59081382506d18"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a0b7af6a0dcbc1aea7f59081382506d18">detectorQ</a> (const std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; &amp;E1Vec, const <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &amp;QLabFrame, const std::vector&lt; double &gt; &amp;r)</td></tr>
<tr class="memdesc:a0b7af6a0dcbc1aea7f59081382506d18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate if this Q is on a detector.  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a0b7af6a0dcbc1aea7f59081382506d18">More...</a><br /></td></tr>
<tr class="separator:a0b7af6a0dcbc1aea7f59081382506d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad35606719bf3700195e7310c617791aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d22/namespaceMantid_1_1DataObjects.html#a77d4ef64218800b7b0f543a59d42697d">PeakShapeEllipsoid_const_sptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#ad35606719bf3700195e7310c617791aa">ellipseIntegrateEvents</a> (const std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; &amp;E1Vec, <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> const &amp;peak_q, <a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a> const &amp;ev_list, std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; const &amp;directions, std::vector&lt; double &gt; const &amp;sigmas, bool specify_size, double peak_radius, double back_inner_radius, double back_outer_radius, std::vector&lt; double &gt; &amp;axes_radii, double &amp;inti, double &amp;sigi, std::pair&lt; double, double &gt; &amp;backi)</td></tr>
<tr class="memdesc:ad35606719bf3700195e7310c617791aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Integrate a list of events associated to one peak.  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#ad35606719bf3700195e7310c617791aa">More...</a><br /></td></tr>
<tr class="separator:ad35606719bf3700195e7310c617791aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:ac3d44d656813078be679f5409d3a5039"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#ac3d44d656813078be679f5409d3a5039">getEigenVectors</a> (<a class="el" href="../../d9/dec/namespaceMantid_1_1Kernel.html#af7aba0cb1e2af14b7d5018cc3c22771d">Kernel::DblMatrix</a> const &amp;cov_matrix, std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; &amp;eigen_vectors, std::vector&lt; double &gt; &amp;eigen_values)</td></tr>
<tr class="memdesc:ac3d44d656813078be679f5409d3a5039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Eigen vectors of a 3x3 real symmetric matrix using the GSL.  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#ac3d44d656813078be679f5409d3a5039">More...</a><br /></td></tr>
<tr class="separator:ac3d44d656813078be679f5409d3a5039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66b52656f97ca93f0c720edf34b1bf8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#ae66b52656f97ca93f0c720edf34b1bf8">makeCovarianceMatrix</a> (<a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a> const &amp;events, <a class="el" href="../../d9/dec/namespaceMantid_1_1Kernel.html#af7aba0cb1e2af14b7d5018cc3c22771d">Kernel::DblMatrix</a> &amp;matrix, double <a class="el" href="../../d4/de1/Rasterize_8cpp.html#a3f67c53b80389c5f53961936edba04c9">radius</a>)</td></tr>
<tr class="memdesc:ae66b52656f97ca93f0c720edf34b1bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">3x3 covariance matrix of a list of SlimEvent objects  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#ae66b52656f97ca93f0c720edf34b1bf8">More...</a><br /></td></tr>
<tr class="separator:ae66b52656f97ca93f0c720edf34b1bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0863b288d1cb1b464f8ac76780fa9a5"><td class="memItemLeft" align="right" valign="top">static std::pair&lt; double, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#ad0863b288d1cb1b464f8ac76780fa9a5">numInEllipsoid</a> (<a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a> const &amp;events, std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; const &amp;directions, std::vector&lt; double &gt; const &amp;sizes)</td></tr>
<tr class="memdesc:ad0863b288d1cb1b464f8ac76780fa9a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of events in an ellipsoid.  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#ad0863b288d1cb1b464f8ac76780fa9a5">More...</a><br /></td></tr>
<tr class="separator:ad0863b288d1cb1b464f8ac76780fa9a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9158495f9daa0364e1e0fee8321c8943"><td class="memItemLeft" align="right" valign="top">static std::pair&lt; double, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a9158495f9daa0364e1e0fee8321c8943">numInEllipsoidBkg</a> (<a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a> const &amp;events, std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; const &amp;directions, std::vector&lt; double &gt; const &amp;sizes, std::vector&lt; double &gt; const &amp;sizesIn, const bool useOnePercentBackgroundCorrection)</td></tr>
<tr class="memdesc:a9158495f9daa0364e1e0fee8321c8943"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of events in an ellipsoid with background correction.  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a9158495f9daa0364e1e0fee8321c8943">More...</a><br /></td></tr>
<tr class="separator:a9158495f9daa0364e1e0fee8321c8943"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8290cbd8f46523cb599489a98e4db716"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a8290cbd8f46523cb599489a98e4db716">m_cellSize</a></td></tr>
<tr class="memdesc:a8290cbd8f46523cb599489a98e4db716"><td class="mdescLeft">&#160;</td><td class="mdescRight">size of the square cell unit, holding at most one single peak  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a8290cbd8f46523cb599489a98e4db716">More...</a><br /></td></tr>
<tr class="separator:a8290cbd8f46523cb599489a98e4db716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a551731ee4dfcab65a57144616ec29b"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; size_t, <a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a0a551731ee4dfcab65a57144616ec29b">m_cellsWithEvents</a></td></tr>
<tr class="memdesc:a0a551731ee4dfcab65a57144616ec29b"><td class="mdescLeft">&#160;</td><td class="mdescRight">list of cells occupied with events  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a0a551731ee4dfcab65a57144616ec29b">More...</a><br /></td></tr>
<tr class="separator:a0a551731ee4dfcab65a57144616ec29b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb85aa949463a9825cd6e645b5c3fe7b"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; size_t, <a class="el" href="../../d3/d2b/structMantid_1_1MDAlgorithms_1_1OccupiedCell.html">OccupiedCell</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#adb85aa949463a9825cd6e645b5c3fe7b">m_cellsWithPeaks</a></td></tr>
<tr class="memdesc:adb85aa949463a9825cd6e645b5c3fe7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">list the occupied cells in an unordered map for fast searching  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#adb85aa949463a9825cd6e645b5c3fe7b">More...</a><br /></td></tr>
<tr class="separator:adb85aa949463a9825cd6e645b5c3fe7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1425aef782ccc8aa69f7119d200397ac"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#a1425aef782ccc8aa69f7119d200397ac">m_radius</a></td></tr>
<tr class="separator:a1425aef782ccc8aa69f7119d200397ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5442920b47bff3a28845c69cdcf9aed"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#aa5442920b47bff3a28845c69cdcf9aed">m_useOnePercentBackgroundCorrection</a></td></tr>
<tr class="memdesc:aa5442920b47bff3a28845c69cdcf9aed"><td class="mdescLeft">&#160;</td><td class="mdescRight">if one percent culling of the background should be performed.  <a href="../../dd/da7/classMantid_1_1MDAlgorithms_1_1IntegrateQLabEvents.html#aa5442920b47bff3a28845c69cdcf9aed">More...</a><br /></td></tr>
<tr class="separator:aa5442920b47bff3a28845c69cdcf9aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This is a low-level class to construct a map with lists of events near each peak Q-vector in the lab frame. </p>
<p >The Q-vector of each event is shifted by the Q-vector of the associated peak. A method is also provided to find the principal axes of such a list of events and to find the net integrated counts using ellipsoids with axis lengths determined from the standard deviations in the directions of the principal axes.</p>
<dl class="section author"><dt>Author</dt><dd>Dennis Mikkelson </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2012-12-19 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00088">88</a> of file <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html">IntegrateQLabEvents.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aee29928c7e9d6ff43073424c1b0d797e" name="aee29928c7e9d6ff43073424c1b0d797e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee29928c7e9d6ff43073424c1b0d797e">&#9670;&#160;</a></span>IntegrateQLabEvents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mantid::MDAlgorithms::IntegrateQLabEvents::IntegrateQLabEvents </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a> &amp;&#160;</td>
          <td class="paramname"><em>peak_q_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>useOnePercentBackgroundCorrection</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store events within a certain radius of the specified peak centers, and sum these events to estimate pixel intensities. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peak_q_list</td><td>: List of Q-vectors for peak centers. </td></tr>
    <tr><td class="paramname">radius</td><td>: The maximum distance from a peak's Q-vector, for an event to be stored in the list associated with that peak. </td></tr>
    <tr><td class="paramname">useOnePercentBackgroundCorrection</td><td>: flag if one percent background correction should be used. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00045">45</a> of file <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00046">Mantid::MDAlgorithms::CellCoords::getHash()</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00043">Mantid::MDAlgorithms::CellCoords::isOrigin()</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00285">m_cellSize</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00287">m_cellsWithPeaks</a>, and <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00281">m_radius</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a388326804801ea4eb85650934a50ce89" name="a388326804801ea4eb85650934a50ce89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a388326804801ea4eb85650934a50ce89">&#9670;&#160;</a></span>addEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Mantid::MDAlgorithms::IntegrateQLabEvents::addEvent </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#ac9aac618c63af2509a3d68a63a0d2f4b">SlimEvent</a>&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>assign an event to one cell of the partitioned QLab space. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>: SlimEvent to be assigned </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00232">232</a> of file <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00046">Mantid::MDAlgorithms::CellCoords::getHash()</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00043">Mantid::MDAlgorithms::CellCoords::isOrigin()</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00285">m_cellSize</a>, and <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00289">m_cellsWithEvents</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00075">addEvents()</a>.</p>

</div>
</div>
<a id="afc319a80c1dcdbf579115d5ca2c3c4d7" name="afc319a80c1dcdbf579115d5ca2c3c4d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc319a80c1dcdbf579115d5ca2c3c4d7">&#9670;&#160;</a></span>addEvents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mantid::MDAlgorithms::IntegrateQLabEvents::addEvents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a> const &amp;&#160;</td>
          <td class="paramname"><em>event_qs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>distribute the events among the cells of the partitioned QLab space. </p>
<p >Given QLab partitioned into a cubic lattice with unit cell of certain size, assign each event to one particular cell depending on its QLab vector. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event_qs</td><td>: List of SlimEvent objects to be distributed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00075">75</a> of file <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00232">addEvent()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/db9/IntegrateEllipsoidsV2_8cpp_source.html#l00055">Mantid::MDAlgorithms::IntegrateEllipsoidsV2::qListFromEventWS()</a>, and <a class="el" href="../../d1/db9/IntegrateEllipsoidsV2_8cpp_source.html#l00111">Mantid::MDAlgorithms::IntegrateEllipsoidsV2::qListFromHistoWS()</a>.</p>

</div>
</div>
<a id="a0b7af6a0dcbc1aea7f59081382506d18" name="a0b7af6a0dcbc1aea7f59081382506d18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b7af6a0dcbc1aea7f59081382506d18">&#9670;&#160;</a></span>detectorQ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Mantid::MDAlgorithms::IntegrateQLabEvents::detectorQ </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>E1Vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &amp;&#160;</td>
          <td class="paramname"><em>QLabFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate if this Q is on a detector. </p>
<p >The distance from C to OE is given by dv=C-E*(C.scalar_prod(E)) If dv.norm&lt;integration_radius, one of the detector trajectories on the edge is too close to the peak. This method is applied to all masked pixels. If there are masked pixels trajectories inside an integration volume, the peak must be rejected. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">E1Vec</td><td>: Vector of values for calculating edge of detectors </td></tr>
    <tr><td class="paramname">QLabFrame</td><td>The Peak center. </td></tr>
    <tr><td class="paramname">r</td><td>Peak radius. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00362">362</a> of file <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dd1/IPowderDiffPeakFunction_8cpp_source.html#l00207">Mantid::API::E1()</a>, <a class="el" href="../../dd/dcf/V3D_8h_source.html#l00263">Mantid::Kernel::V3D::norm()</a>, and <a class="el" href="../../dd/dcf/V3D_8h_source.html#l00274">Mantid::Kernel::V3D::scalar_prod()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00248">ellipseIntegrateEvents()</a>.</p>

</div>
</div>
<a id="ae224df0192f3407f5d110a1dbf469e2d" name="ae224df0192f3407f5d110a1dbf469e2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae224df0192f3407f5d110a1dbf469e2d">&#9670;&#160;</a></span>ellipseIntegrateEvents() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d67/namespaceMantid_1_1Geometry.html#a75b695867abdbd4024c5f25ea396778c">Mantid::Geometry::PeakShape_const_sptr</a> Mantid::MDAlgorithms::IntegrateQLabEvents::ellipseIntegrateEvents </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>E1Vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> const &amp;&#160;</td>
          <td class="paramname"><em>peak_q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>specify_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>peak_radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>back_inner_radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>back_outer_radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>axes_radii</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>inti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>sigi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::pair&lt; double, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>backi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Integrate the events around the specified peak QLab vector. </p>
<p >The principal axes of the events near this Q-vector and the standard deviations in the directions of these principal axes determine ellipsoidal regions for integrating the peak and estimating the background. Alternatively, if peak and background radii are specified, then those will be used for half the major axis length of the ellipsoids, and the other axes of the ellipsoids will be set proportionally, based on the standard deviations. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">E1Vec</td><td>: Vector of values for calculating edge of detectors </td></tr>
    <tr><td class="paramname">peak_q</td><td>: The QLab-vector for the peak center. </td></tr>
    <tr><td class="paramname">specify_size</td><td>: If true the integration will be done using the ellipsoids with major axes determined by the peak, back_inner and back_outer radii parameters. If false, the integration will be done using a peak region with major axis chosen so that it covers +- three standard deviations of the data in each direction. In this case, the background ellipsoidal shell is chosen to have the same VOLUME as the peak ellipsoid, and to use the peak ellipsoid for the inner radius. </td></tr>
    <tr><td class="paramname">peak_radius</td><td>: Size of half the major axis of the ellipsoidal peak region. </td></tr>
    <tr><td class="paramname">back_inner_radius</td><td>: Size of half the major axis of the INNER ellipsoidal boundary of the background region </td></tr>
    <tr><td class="paramname">back_outer_radius</td><td>: Size of half the major axis of the OUTER ellipsoidal boundary of the background region </td></tr>
    <tr><td class="paramname">axes_radii</td><td>: The radii used for integration in the directions of the three principal axes. </td></tr>
    <tr><td class="paramname">inti</td><td>: (output) collects the net integrated intensity </td></tr>
    <tr><td class="paramname">sigi</td><td>: (output) collects an estimate of the standard deviation of the net integrated intensity </td></tr>
    <tr><td class="paramname">backi</td><td>: (output) collects background intensity subtracted from inti and sigi </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00082">82</a> of file <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00082">ellipseIntegrateEvents()</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00070">Mantid::MDAlgorithms::OccupiedCell::events</a>, <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00202">getEigenVectors()</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00046">Mantid::MDAlgorithms::CellCoords::getHash()</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00285">m_cellSize</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00287">m_cellsWithPeaks</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00281">m_radius</a>, <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00182">makeCovarianceMatrix()</a>, and <a class="el" href="../../d6/d64/GetAllEi_8cpp_source.html#l00156">sigma</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00082">ellipseIntegrateEvents()</a>, <a class="el" href="../../d1/db9/IntegrateEllipsoidsV2_8cpp_source.html#l00258">Mantid::MDAlgorithms::IntegrateEllipsoidsV2::exec()</a>, and <a class="el" href="../../d1/db9/IntegrateEllipsoidsV2_8cpp_source.html#l00696">Mantid::MDAlgorithms::IntegrateEllipsoidsV2::integratePeaksCutoffISigI()</a>.</p>

</div>
</div>
<a id="ad35606719bf3700195e7310c617791aa" name="ad35606719bf3700195e7310c617791aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad35606719bf3700195e7310c617791aa">&#9670;&#160;</a></span>ellipseIntegrateEvents() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d22/namespaceMantid_1_1DataObjects.html#a77d4ef64218800b7b0f543a59d42697d">PeakShapeEllipsoid_const_sptr</a> Mantid::MDAlgorithms::IntegrateQLabEvents::ellipseIntegrateEvents </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>E1Vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> const &amp;&#160;</td>
          <td class="paramname"><em>peak_q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a> const &amp;&#160;</td>
          <td class="paramname"><em>ev_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>directions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; const &amp;&#160;</td>
          <td class="paramname"><em>sigmas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>specify_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>peak_radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>back_inner_radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>back_outer_radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>axes_radii</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>inti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>sigi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::pair&lt; double, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>backi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Integrate a list of events associated to one peak. </p>
<p >The QLab vector of the events are shifted by the QLab vector of the peak. Spatial distribution of the events in QLab space is described with principal axes of the ellipsoid, as well as the standard deviations in the the directions of the principal axes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">E1Vec</td><td>: Vector of values for calculating edge of detectors </td></tr>
    <tr><td class="paramname">peak_q</td><td>: The Q-vector for the peak center. </td></tr>
    <tr><td class="paramname">ev_list</td><td>: List of events centered around the peak (here with Q=[0,0,0]). </td></tr>
    <tr><td class="paramname">directions</td><td>: The three principal axes of the list of events </td></tr>
    <tr><td class="paramname">sigmas</td><td>: The standard deviations of the events in the directions of the three principal axes. </td></tr>
    <tr><td class="paramname">specify_size</td><td>: If true the integration will be done using the ellipsoids with major axes determined by the peak, back_inner and back_outer radii parameters. If false, the integration will be done using a peak region with major axis chosen so that it covers +- three standard deviations of the data in each direction. In this case, the background ellipsoidal shell is chosen to have the same VOLUME as the peak ellipsoid, and to use the peak ellipsoid for the inner radius. </td></tr>
    <tr><td class="paramname">peak_radius</td><td>: Size of half the major axis of the ellipsoid </td></tr>
    <tr><td class="paramname">back_inner_radius</td><td>: Size of half the major axis of the INNER ellipsoidal boundary of the background region </td></tr>
    <tr><td class="paramname">back_outer_radius</td><td>: Size of half the major axis of the OUTER ellipsoidal boundary of the background region </td></tr>
    <tr><td class="paramname">axes_radii</td><td>: The radii used for integration in the directions of the three principal axes. </td></tr>
    <tr><td class="paramname">inti</td><td>: (output) net integrated intensity </td></tr>
    <tr><td class="paramname">sigi</td><td>: (output) estimate of the standard deviation the intensity </td></tr>
    <tr><td class="paramname">backi</td><td>: (output) background intensity subtracted from inti and sigi </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00248">248</a> of file <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../df/df2/Kernel_2src_2Logger_8cpp_source.html#l00114">Mantid::Kernel::Logger::debug()</a>, <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00362">detectorQ()</a>, <a class="el" href="../../d9/da0/namespaceMantid_1_1API.html#a6f6a3554a6e8ce252c08527a12021fba">Mantid::API::g_log</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00281">m_radius</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00283">m_useOnePercentBackgroundCorrection</a>, <a class="el" href="../../df/df2/Kernel_2src_2Logger_8cpp_source.html#l00095">Mantid::Kernel::Logger::notice()</a>, <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00121">numInEllipsoid()</a>, <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00139">numInEllipsoidBkg()</a>, and <a class="el" href="../../db/d13/SpecialCoordinateSystem_8h_source.html#l00014">Mantid::Kernel::QLab</a>.</p>

</div>
</div>
<a id="ac3d44d656813078be679f5409d3a5039" name="ac3d44d656813078be679f5409d3a5039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3d44d656813078be679f5409d3a5039">&#9670;&#160;</a></span>getEigenVectors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Mantid::MDAlgorithms::IntegrateQLabEvents::getEigenVectors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dec/namespaceMantid_1_1Kernel.html#af7aba0cb1e2af14b7d5018cc3c22771d">Kernel::DblMatrix</a> const &amp;&#160;</td>
          <td class="paramname"><em>cov_matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eigen_vectors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>eigen_values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Eigen vectors of a 3x3 real symmetric matrix using the GSL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cov_matrix</td><td>: 3x3 real symmetric matrix. </td></tr>
    <tr><td class="paramname">eigen_vectors</td><td>: (output) returned eigen vectors </td></tr>
    <tr><td class="paramname">eigen_values</td><td>: (output) three eigenvalues </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00202">202</a> of file <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00082">ellipseIntegrateEvents()</a>.</p>

</div>
</div>
<a id="a3535a25decb8e8596da3f8c1ee6e7a46" name="a3535a25decb8e8596da3f8c1ee6e7a46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3535a25decb8e8596da3f8c1ee6e7a46">&#9670;&#160;</a></span>isOrigin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Mantid::MDAlgorithms::IntegrateQLabEvents::isOrigin </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>cellSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine if an input Q-vector lies in the cell associated to the origin. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00068">68</a> of file <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/db9/IntegrateEllipsoidsV2_8cpp_source.html#l00258">Mantid::MDAlgorithms::IntegrateEllipsoidsV2::exec()</a>, and <a class="el" href="../../d1/db9/IntegrateEllipsoidsV2_8cpp_source.html#l00579">Mantid::MDAlgorithms::IntegrateEllipsoidsV2::pairBraggSatellitePeaks()</a>.</p>

</div>
</div>
<a id="ae66b52656f97ca93f0c720edf34b1bf8" name="ae66b52656f97ca93f0c720edf34b1bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66b52656f97ca93f0c720edf34b1bf8">&#9670;&#160;</a></span>makeCovarianceMatrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Mantid::MDAlgorithms::IntegrateQLabEvents::makeCovarianceMatrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a> const &amp;&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/dec/namespaceMantid_1_1Kernel.html#af7aba0cb1e2af14b7d5018cc3c22771d">Kernel::DblMatrix</a> &amp;&#160;</td>
          <td class="paramname"><em>matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>3x3 covariance matrix of a list of SlimEvent objects </p>
<p >the purpose of the covariance matrix is to find the principal axes of the SlimeEvents, associated with a particular peak. Their QLab vectors are already shifted by the QLab vector of the peak. Only events within the specified distance from the peak (here at Q=[0,0,0]) will be used. The covariance matrix can be easily constructed. X, Y, Z of each peak position are the variables we wish to determine the covariance. The mean position in each dimension has already been calculated on subtracted, since this corresponds to the QLab vector peak. The expected values of each correlation test X,X X,Y X,Z e.t.c form the elements of this 3x3 matrix, but since the probabilities are equal, we can remove them from the sums of the expected values, and simply divide by the number of events for each matrix element. Note that the diagonal elements form the variance X,X, Y,Y, Z,Z </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td>: SlimEvents associated to one peak </td></tr>
    <tr><td class="paramname">matrix</td><td>: (output) 3x3 covariance matrix </td></tr>
    <tr><td class="paramname">radius</td><td>: Only events within this distance radius of the peak (here at Q=[0,0,0]) are used for calculating the covariance matrix. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00182">182</a> of file <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d4/de1/Rasterize_8cpp_source.html#l00031">radius</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00082">ellipseIntegrateEvents()</a>.</p>

</div>
</div>
<a id="ad0863b288d1cb1b464f8ac76780fa9a5" name="ad0863b288d1cb1b464f8ac76780fa9a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0863b288d1cb1b464f8ac76780fa9a5">&#9670;&#160;</a></span>numInEllipsoid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; double, double &gt; Mantid::MDAlgorithms::IntegrateQLabEvents::numInEllipsoid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a> const &amp;&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>directions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; const &amp;&#160;</td>
          <td class="paramname"><em>sizes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of events in an ellipsoid. </p>
<p >The ellipsoid is centered at 0,0,0 with the three specified axes and the three specified sizes in the direction of those axes. NOTE: The three axes must be mutually orthogonal unit vectors. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td>: List of SlimEvents centered at 0,0,0 </td></tr>
    <tr><td class="paramname">directions</td><td>: List of 3 orthonormal directions for the axes of the ellipsoid. </td></tr>
    <tr><td class="paramname">sizes</td><td>: List of three values a,b,c giving half the length of the three axes of the ellisoid. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of events and estimated error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00121">121</a> of file <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d52/Matrix_8cpp_source.html#l00037">count</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00248">ellipseIntegrateEvents()</a>.</p>

</div>
</div>
<a id="a9158495f9daa0364e1e0fee8321c8943" name="a9158495f9daa0364e1e0fee8321c8943"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9158495f9daa0364e1e0fee8321c8943">&#9670;&#160;</a></span>numInEllipsoidBkg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; double, double &gt; Mantid::MDAlgorithms::IntegrateQLabEvents::numInEllipsoidBkg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a> const &amp;&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d5/d9d/classMantid_1_1Kernel_1_1V3D.html">V3D</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>directions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; const &amp;&#160;</td>
          <td class="paramname"><em>sizes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; const &amp;&#160;</td>
          <td class="paramname"><em>sizesIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>useOnePercentBackgroundCorrection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of events in an ellipsoid with background correction. </p>
<p >The ellipsoid is centered at 0,0,0 with the three specified axes and the three specified sizes in the direction of those axes. NOTE: The three axes must be mutually orthogonal unit vectors. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td>: List of 3D events centered at 0,0,0 </td></tr>
    <tr><td class="paramname">directions</td><td>: List of 3 orthonormal directions for the axes of the ellipsoid. </td></tr>
    <tr><td class="paramname">sizes</td><td>: List of three values a,b,c giving half the length of the three axes of the ellisoid. </td></tr>
    <tr><td class="paramname">sizesIn</td><td>: List of three values a,b,c giving half the length of the three inner axes of the ellisoid. </td></tr>
    <tr><td class="paramname">useOnePercentBackgroundCorrection</td><td>: flag if one percent background correction should be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of events and estimated error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00139">139</a> of file <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d52/Matrix_8cpp_source.html#l00037">count</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00248">ellipseIntegrateEvents()</a>.</p>

</div>
</div>
<a id="ad79f83c69a0edebedb01703a9d5535bc" name="ad79f83c69a0edebedb01703a9d5535bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad79f83c69a0edebedb01703a9d5535bc">&#9670;&#160;</a></span>populateCellsWithPeaks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mantid::MDAlgorithms::IntegrateQLabEvents::populateCellsWithPeaks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assign events to each of the cells occupied by events. </p>
<p >Iterate over each QLab cell containing a peak and accumulate the list of events for the cell and for the first-neighbor cells into a single list of events. The QLab vectors for this events are shifted by the QLab vector of the peak. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00375">375</a> of file <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00070">Mantid::MDAlgorithms::OccupiedCell::events</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00285">m_cellSize</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00289">m_cellsWithEvents</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00287">m_cellsWithPeaks</a>, <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00050">Mantid::MDAlgorithms::CellCoords::nearbyCellHashes()</a>, and <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00069">Mantid::MDAlgorithms::OccupiedCell::peakQ</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/db9/IntegrateEllipsoidsV2_8cpp_source.html#l00055">Mantid::MDAlgorithms::IntegrateEllipsoidsV2::qListFromEventWS()</a>, and <a class="el" href="../../d1/db9/IntegrateEllipsoidsV2_8cpp_source.html#l00111">Mantid::MDAlgorithms::IntegrateEllipsoidsV2::qListFromHistoWS()</a>.</p>

</div>
</div>
<a id="a9dfcf65aa6f15b9499216bf796cc2888" name="a9dfcf65aa6f15b9499216bf796cc2888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dfcf65aa6f15b9499216bf796cc2888">&#9670;&#160;</a></span>setRadius()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mantid::MDAlgorithms::IntegrateQLabEvents::setRadius </td>
          <td>(</td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>radius</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set peak integration radius. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">radius</td><td>:: double integration radius. radius must be larger than 0. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00066">66</a> of file <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00281">m_radius</a>, and <a class="el" href="../../d4/de1/Rasterize_8cpp_source.html#l00031">radius</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/db9/IntegrateEllipsoidsV2_8cpp_source.html#l00258">Mantid::MDAlgorithms::IntegrateEllipsoidsV2::exec()</a>, and <a class="el" href="../../d1/db9/IntegrateEllipsoidsV2_8cpp_source.html#l00696">Mantid::MDAlgorithms::IntegrateEllipsoidsV2::integratePeaksCutoffISigI()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8290cbd8f46523cb599489a98e4db716" name="a8290cbd8f46523cb599489a98e4db716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8290cbd8f46523cb599489a98e4db716">&#9670;&#160;</a></span>m_cellSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Mantid::MDAlgorithms::IntegrateQLabEvents::m_cellSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>size of the square cell unit, holding at most one single peak </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00285">285</a> of file <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html">IntegrateQLabEvents.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00232">addEvent()</a>, <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00082">ellipseIntegrateEvents()</a>, <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00045">IntegrateQLabEvents()</a>, and <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00375">populateCellsWithPeaks()</a>.</p>

</div>
</div>
<a id="a0a551731ee4dfcab65a57144616ec29b" name="a0a551731ee4dfcab65a57144616ec29b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a551731ee4dfcab65a57144616ec29b">&#9670;&#160;</a></span>m_cellsWithEvents</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;size_t, <a class="el" href="../../d8/de0/namespaceMantid_1_1MDAlgorithms.html#a384dd23a6a4d305ece592100ba312c25">SlimEvents</a>&gt; Mantid::MDAlgorithms::IntegrateQLabEvents::m_cellsWithEvents</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>list of cells occupied with events </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00289">289</a> of file <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html">IntegrateQLabEvents.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00232">addEvent()</a>, and <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00375">populateCellsWithPeaks()</a>.</p>

</div>
</div>
<a id="adb85aa949463a9825cd6e645b5c3fe7b" name="adb85aa949463a9825cd6e645b5c3fe7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb85aa949463a9825cd6e645b5c3fe7b">&#9670;&#160;</a></span>m_cellsWithPeaks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;size_t, <a class="el" href="../../d3/d2b/structMantid_1_1MDAlgorithms_1_1OccupiedCell.html">OccupiedCell</a>&gt; Mantid::MDAlgorithms::IntegrateQLabEvents::m_cellsWithPeaks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>list the occupied cells in an unordered map for fast searching </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00287">287</a> of file <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html">IntegrateQLabEvents.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00082">ellipseIntegrateEvents()</a>, <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00045">IntegrateQLabEvents()</a>, and <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00375">populateCellsWithPeaks()</a>.</p>

</div>
</div>
<a id="a1425aef782ccc8aa69f7119d200397ac" name="a1425aef782ccc8aa69f7119d200397ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1425aef782ccc8aa69f7119d200397ac">&#9670;&#160;</a></span>m_radius</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Mantid::MDAlgorithms::IntegrateQLabEvents::m_radius</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00281">281</a> of file <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html">IntegrateQLabEvents.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00082">ellipseIntegrateEvents()</a>, <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00045">IntegrateQLabEvents()</a>, and <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00066">setRadius()</a>.</p>

</div>
</div>
<a id="aa5442920b47bff3a28845c69cdcf9aed" name="aa5442920b47bff3a28845c69cdcf9aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5442920b47bff3a28845c69cdcf9aed">&#9670;&#160;</a></span>m_useOnePercentBackgroundCorrection</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool Mantid::MDAlgorithms::IntegrateQLabEvents::m_useOnePercentBackgroundCorrection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>if one percent culling of the background should be performed. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html#l00283">283</a> of file <a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html">IntegrateQLabEvents.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html#l00248">ellipseIntegrateEvents()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Framework/MDAlgorithms/inc/MantidMDAlgorithms/<a class="el" href="../../d3/d72/IntegrateQLabEvents_8h_source.html">IntegrateQLabEvents.h</a></li>
<li>Framework/MDAlgorithms/src/<a class="el" href="../../d8/d52/IntegrateQLabEvents_8cpp_source.html">IntegrateQLabEvents.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jan 3 2023 12:00:37 for Mantid by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
